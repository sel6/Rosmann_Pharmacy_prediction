{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.pipeline import Pipeline\n",
    "from sklearn.preprocessing import FunctionTransformer\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import warnings\n",
    "import sys"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [],
   "source": [
    "# ignore warnings\n",
    "warnings.filterwarnings('ignore')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "# importing scripts\n",
    "sys.path.insert(1, '../scripts')\n",
    "\n",
    "from data_viz import Data_Viz\n",
    "from data_cleaning import DataCleaner\n",
    "from data_transformation import DataTransformer\n",
    "\n",
    "DV = Data_Viz()\n",
    "DC = DataCleaner()\n",
    "DT = DataTransformer()\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "# importing datasets\n",
    "sample_df = pd.read_csv(\"../data/sample_submission.csv\")\n",
    "store_df = pd.read_csv(\"../data/store.csv\")\n",
    "test_df = pd.read_csv(\"../data/test.csv\")\n",
    "train_df = pd.read_csv(\"../data/train.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Id</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>41088</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Sales</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "  variables  missing_count  missing_percent_(%) data_type  unique_values\n",
       "0        Id              0                  0.0     int64          41088\n",
       "1     Sales              0                  0.0     int64              1"
      ]
     },
     "execution_count": 7,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# checking sample dataset\n",
    "DV.summ_columns(sample_df)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1115</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>3</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>655</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>CompetitionOpenSinceMonth</td>\n",
       "      <td>354</td>\n",
       "      <td>32.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>CompetitionOpenSinceYear</td>\n",
       "      <td>354</td>\n",
       "      <td>32.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>544</td>\n",
       "      <td>49.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>25</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>544</td>\n",
       "      <td>49.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>544</td>\n",
       "      <td>49.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                   variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                      Store              0                  0.0     int64   \n",
       "1                  StoreType              0                  0.0    object   \n",
       "2                 Assortment              0                  0.0    object   \n",
       "3        CompetitionDistance              3                  0.0   float64   \n",
       "4  CompetitionOpenSinceMonth            354                 32.0   float64   \n",
       "5   CompetitionOpenSinceYear            354                 32.0   float64   \n",
       "6                     Promo2              0                  0.0     int64   \n",
       "7            Promo2SinceWeek            544                 49.0   float64   \n",
       "8            Promo2SinceYear            544                 49.0   float64   \n",
       "9              PromoInterval            544                 49.0    object   \n",
       "\n",
       "   unique_values  \n",
       "0           1115  \n",
       "1              4  \n",
       "2              3  \n",
       "3            655  \n",
       "4             13  \n",
       "5             24  \n",
       "6              2  \n",
       "7             25  \n",
       "8              8  \n",
       "9              4  "
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "DV.summ_columns(store_df)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>571</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>397</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>CompetitionOpenSinceMonth</td>\n",
       "      <td>206</td>\n",
       "      <td>36.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>CompetitionOpenSinceYear</td>\n",
       "      <td>206</td>\n",
       "      <td>36.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>24</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "                   variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                      Store              0                  0.0     int64   \n",
       "1                  StoreType              0                  0.0    object   \n",
       "2                 Assortment              0                  0.0    object   \n",
       "3        CompetitionDistance              1                  0.0   float64   \n",
       "4  CompetitionOpenSinceMonth            206                 36.0   float64   \n",
       "5   CompetitionOpenSinceYear            206                 36.0   float64   \n",
       "6                     Promo2              0                  0.0     int64   \n",
       "7            Promo2SinceWeek              0                  0.0   float64   \n",
       "8            Promo2SinceYear              0                  0.0   float64   \n",
       "9              PromoInterval              0                  0.0    object   \n",
       "\n",
       "   unique_values  \n",
       "0            571  \n",
       "1              4  \n",
       "2              3  \n",
       "3            397  \n",
       "4             13  \n",
       "5             24  \n",
       "6              1  \n",
       "7             24  \n",
       "8              7  \n",
       "9              3  "
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# checking if the promo dates are 0 becuase promo2 is 0\n",
    "\n",
    "promo2_1_df = store_df.loc[store_df['Promo2'] == 1]\n",
    "DV.summ_columns(promo2_1_df)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Jan,Apr,Jul,Oct     335\n",
       "Feb,May,Aug,Nov     130\n",
       "Mar,Jun,Sept,Dec    106\n",
       "Name: PromoInterval, dtype: int64"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "store_df['PromoInterval'].value_counts()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "# replacing empty values with 0 and NA\n",
    "store_clean = store_df.copy(deep=True)\n",
    "store_clean['Promo2SinceWeek'] = store_df['Promo2SinceWeek'].fillna(0)\n",
    "store_clean['Promo2SinceYear'] = store_df['Promo2SinceYear'].fillna(0)\n",
    "store_clean['PromoInterval'] = store_df['PromoInterval'].fillna('-')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Store</th>\n",
       "      <th>StoreType</th>\n",
       "      <th>Assortment</th>\n",
       "      <th>CompetitionDistance</th>\n",
       "      <th>Promo2</th>\n",
       "      <th>Promo2SinceWeek</th>\n",
       "      <th>Promo2SinceYear</th>\n",
       "      <th>PromoInterval</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "      <td>c</td>\n",
       "      <td>a</td>\n",
       "      <td>1270.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>2</td>\n",
       "      <td>a</td>\n",
       "      <td>a</td>\n",
       "      <td>570.0</td>\n",
       "      <td>1</td>\n",
       "      <td>13.0</td>\n",
       "      <td>2010.0</td>\n",
       "      <td>Jan,Apr,Jul,Oct</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>3</td>\n",
       "      <td>a</td>\n",
       "      <td>a</td>\n",
       "      <td>14130.0</td>\n",
       "      <td>1</td>\n",
       "      <td>14.0</td>\n",
       "      <td>2011.0</td>\n",
       "      <td>Jan,Apr,Jul,Oct</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>4</td>\n",
       "      <td>c</td>\n",
       "      <td>c</td>\n",
       "      <td>620.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>5</td>\n",
       "      <td>a</td>\n",
       "      <td>a</td>\n",
       "      <td>29910.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1110</th>\n",
       "      <td>1111</td>\n",
       "      <td>a</td>\n",
       "      <td>a</td>\n",
       "      <td>1900.0</td>\n",
       "      <td>1</td>\n",
       "      <td>31.0</td>\n",
       "      <td>2013.0</td>\n",
       "      <td>Jan,Apr,Jul,Oct</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1111</th>\n",
       "      <td>1112</td>\n",
       "      <td>c</td>\n",
       "      <td>c</td>\n",
       "      <td>1880.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1112</th>\n",
       "      <td>1113</td>\n",
       "      <td>a</td>\n",
       "      <td>c</td>\n",
       "      <td>9260.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1113</th>\n",
       "      <td>1114</td>\n",
       "      <td>a</td>\n",
       "      <td>c</td>\n",
       "      <td>870.0</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>-</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1114</th>\n",
       "      <td>1115</td>\n",
       "      <td>d</td>\n",
       "      <td>c</td>\n",
       "      <td>5350.0</td>\n",
       "      <td>1</td>\n",
       "      <td>22.0</td>\n",
       "      <td>2012.0</td>\n",
       "      <td>Mar,Jun,Sept,Dec</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>1115 rows × 8 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      Store StoreType Assortment  CompetitionDistance  Promo2  \\\n",
       "0         1         c          a               1270.0       0   \n",
       "1         2         a          a                570.0       1   \n",
       "2         3         a          a              14130.0       1   \n",
       "3         4         c          c                620.0       0   \n",
       "4         5         a          a              29910.0       0   \n",
       "...     ...       ...        ...                  ...     ...   \n",
       "1110   1111         a          a               1900.0       1   \n",
       "1111   1112         c          c               1880.0       0   \n",
       "1112   1113         a          c               9260.0       0   \n",
       "1113   1114         a          c                870.0       0   \n",
       "1114   1115         d          c               5350.0       1   \n",
       "\n",
       "      Promo2SinceWeek  Promo2SinceYear     PromoInterval  \n",
       "0                 0.0              0.0                 -  \n",
       "1                13.0           2010.0   Jan,Apr,Jul,Oct  \n",
       "2                14.0           2011.0   Jan,Apr,Jul,Oct  \n",
       "3                 0.0              0.0                 -  \n",
       "4                 0.0              0.0                 -  \n",
       "...               ...              ...               ...  \n",
       "1110             31.0           2013.0   Jan,Apr,Jul,Oct  \n",
       "1111              0.0              0.0                 -  \n",
       "1112              0.0              0.0                 -  \n",
       "1113              0.0              0.0                 -  \n",
       "1114             22.0           2012.0  Mar,Jun,Sept,Dec  \n",
       "\n",
       "[1115 rows x 8 columns]"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# removing columns with more than 30% missing value\n",
    "\n",
    "store_clean = DC.reduce_dim_missing(store_clean, 30)\n",
    "store_clean"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1115</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>3</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>655</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>25</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "             variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                Store              0                  0.0     int64   \n",
       "1            StoreType              0                  0.0    object   \n",
       "2           Assortment              0                  0.0    object   \n",
       "3  CompetitionDistance              3                  0.0   float64   \n",
       "4               Promo2              0                  0.0     int64   \n",
       "5      Promo2SinceWeek              0                  0.0   float64   \n",
       "6      Promo2SinceYear              0                  0.0   float64   \n",
       "7        PromoInterval              0                  0.0    object   \n",
       "\n",
       "   unique_values  \n",
       "0           1115  \n",
       "1              4  \n",
       "2              3  \n",
       "3            655  \n",
       "4              2  \n",
       "5             25  \n",
       "6              8  \n",
       "7              4  "
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# checking cleaned data \n",
    "DV.summ_columns(store_clean)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "# merging datasets\n",
    "train_store = pd.merge(train_df, store_clean, how = 'left', on = \"Store\")\n",
    "test_store = pd.merge(test_df, store_clean, how='left', on = 'Store')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(1017209, 16)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1115</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>DayOfWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Date</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>942</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Sales</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>21734</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Customers</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>4086</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Open</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Promo</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>StateHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>SchoolHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>2642</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>655</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>25</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "              variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                 Store              0                  0.0     int64   \n",
       "1             DayOfWeek              0                  0.0     int64   \n",
       "2                  Date              0                  0.0    object   \n",
       "3                 Sales              0                  0.0     int64   \n",
       "4             Customers              0                  0.0     int64   \n",
       "5                  Open              0                  0.0     int64   \n",
       "6                 Promo              0                  0.0     int64   \n",
       "7          StateHoliday              0                  0.0    object   \n",
       "8         SchoolHoliday              0                  0.0     int64   \n",
       "9             StoreType              0                  0.0    object   \n",
       "10           Assortment              0                  0.0    object   \n",
       "11  CompetitionDistance           2642                  0.0   float64   \n",
       "12               Promo2              0                  0.0     int64   \n",
       "13      Promo2SinceWeek              0                  0.0   float64   \n",
       "14      Promo2SinceYear              0                  0.0   float64   \n",
       "15        PromoInterval              0                  0.0    object   \n",
       "\n",
       "    unique_values  \n",
       "0            1115  \n",
       "1               7  \n",
       "2             942  \n",
       "3           21734  \n",
       "4            4086  \n",
       "5               2  \n",
       "6               2  \n",
       "7               5  \n",
       "8               2  \n",
       "9               4  \n",
       "10              3  \n",
       "11            655  \n",
       "12              2  \n",
       "13             25  \n",
       "14              8  \n",
       "15              4  "
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# checking store dataset\n",
    "print(train_store.shape)\n",
    "DV.summ_columns(train_store)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "(41088, 15)\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Id</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>41088</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>856</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>DayOfWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Date</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>48</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Open</td>\n",
       "      <td>11</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Promo</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>StateHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>SchoolHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>96</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>555</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>22</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "              variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                    Id              0                  0.0     int64   \n",
       "1                 Store              0                  0.0     int64   \n",
       "2             DayOfWeek              0                  0.0     int64   \n",
       "3                  Date              0                  0.0    object   \n",
       "4                  Open             11                  0.0   float64   \n",
       "5                 Promo              0                  0.0     int64   \n",
       "6          StateHoliday              0                  0.0    object   \n",
       "7         SchoolHoliday              0                  0.0     int64   \n",
       "8             StoreType              0                  0.0    object   \n",
       "9            Assortment              0                  0.0    object   \n",
       "10  CompetitionDistance             96                  0.0   float64   \n",
       "11               Promo2              0                  0.0     int64   \n",
       "12      Promo2SinceWeek              0                  0.0   float64   \n",
       "13      Promo2SinceYear              0                  0.0   float64   \n",
       "14        PromoInterval              0                  0.0    object   \n",
       "\n",
       "    unique_values  \n",
       "0           41088  \n",
       "1             856  \n",
       "2               7  \n",
       "3              48  \n",
       "4               3  \n",
       "5               2  \n",
       "6               2  \n",
       "7               2  \n",
       "8               4  \n",
       "9               3  \n",
       "10            555  \n",
       "11              2  \n",
       "12             22  \n",
       "13              8  \n",
       "14              4  "
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "print(test_store.shape)\n",
    "DV.summ_columns(test_store)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# checking for outliers\n",
    "\n",
    "DV.plot_box2(train_store, ['Sales', 'Customers'])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Observation**\n",
    "- sales and customers have outliers"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [],
   "source": [
    "# a pipeline to handle missing values and outliers.\n",
    "pipe = Pipeline(steps=[ (\"Handle numerical missing values\", FunctionTransformer(DC.fill_missing_by_median)),\n",
    "                        (\"Handle categorical missing values\", FunctionTransformer(DC.fill_missing_by_mode)),\n",
    "                        (\"Handle outlier\", FunctionTransformer(DC.fill_outliers_mean, kw_args={'cols':['Sales', 'Customers']}))])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>variables</th>\n",
       "      <th>missing_count</th>\n",
       "      <th>missing_percent_(%)</th>\n",
       "      <th>data_type</th>\n",
       "      <th>unique_values</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Store</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>1115</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>DayOfWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Date</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>942</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Sales</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>13194</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Customers</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>1423</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Open</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Promo</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>StateHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>SchoolHoliday</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>StoreType</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Assortment</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>CompetitionDistance</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>654</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>Promo2</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>int64</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Promo2SinceWeek</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>25</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Promo2SinceYear</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>float64</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>PromoInterval</td>\n",
       "      <td>0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>object</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "              variables  missing_count  missing_percent_(%) data_type  \\\n",
       "0                 Store              0                  0.0     int64   \n",
       "1             DayOfWeek              0                  0.0     int64   \n",
       "2                  Date              0                  0.0    object   \n",
       "3                 Sales              0                  0.0   float64   \n",
       "4             Customers              0                  0.0   float64   \n",
       "5                  Open              0                  0.0     int64   \n",
       "6                 Promo              0                  0.0     int64   \n",
       "7          StateHoliday              0                  0.0    object   \n",
       "8         SchoolHoliday              0                  0.0     int64   \n",
       "9             StoreType              0                  0.0    object   \n",
       "10           Assortment              0                  0.0    object   \n",
       "11  CompetitionDistance              0                  0.0   float64   \n",
       "12               Promo2              0                  0.0     int64   \n",
       "13      Promo2SinceWeek              0                  0.0   float64   \n",
       "14      Promo2SinceYear              0                  0.0   float64   \n",
       "15        PromoInterval              0                  0.0    object   \n",
       "\n",
       "    unique_values  \n",
       "0            1115  \n",
       "1               7  \n",
       "2             942  \n",
       "3           13194  \n",
       "4            1423  \n",
       "5               2  \n",
       "6               2  \n",
       "7               5  \n",
       "8               2  \n",
       "9               4  \n",
       "10              3  \n",
       "11            654  \n",
       "12              2  \n",
       "13             25  \n",
       "14              8  \n",
       "15              4  "
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# running the train dataset in the cleaning pipe\n",
    "\n",
    "train_store_clean = pipe.fit_transform(train_store)\n",
    "\n",
    "DV.summ_columns(train_store_clean)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# checking if outliers are handled\n",
    "\n",
    "DV.plot_box2(train_store_clean, ['Sales', 'Customers'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [],
   "source": [
    "# saving cleaned dataframes\n",
    "import matplotlib.pyplot as plt\n",
    "import seaborn as sns\n",
    "import plotly.express as px\n",
    "\n",
    "train_store_clean.to_csv(\"../data/train_store.csv\", index = False)\n",
    "train_store_clean.to_csv(\"../data/test_store.csv\", index = False)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['0', 0, 'a', 'b', 'c'], dtype='object')"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "train_df['StateHoliday'].value_counts().index"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "one of the 0 is string while the other is integer, let's change the int-type to str and so that we won't have different 0 plots"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['0', 'a', 'b', 'c'], dtype='object')"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def replace_rows_str(df, col):\n",
    "    df[col] = df[col].map(str)\n",
    "    df[col] = df[col].apply(str)\n",
    "    df[col] = df[col].astype(str)\n",
    "    df[col] = df[col].values.astype(str)\n",
    "    return(df[col].value_counts().index)\n",
    "    \n",
    "replace_rows_str(train_df, \"StateHoliday\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Index(['No_holiday', 'Public holiday', 'Easter', 'Christmas'], dtype='object')"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "def rename(df, col, old, new):\n",
    "    df[col] = df[col].replace([old], new)\n",
    "    return(df[col].value_counts().index)\n",
    "\n",
    "rename(train_df, \"StateHoliday\", '0', 'No_holiday')\n",
    "rename(train_df, \"StateHoliday\", 'a', 'Public holiday')\n",
    "rename(train_df, \"StateHoliday\", 'b', 'Easter')\n",
    "rename(train_df, \"StateHoliday\", 'c', 'Christmas')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 864x288 with 2 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "fig, (axis1,axis2) = plt.subplots(1,2,figsize=(12,4))\n",
    "\n",
    "# holidays and no_holidays\n",
    "sns.barplot(x='StateHoliday', y='Sales', data=train_df, ax=axis1).set_title('Sales: Holidays vs. ordinary days')\n",
    "\n",
    "# holidays only\n",
    "mask = (train_df[\"StateHoliday\"] != \"0\") & (train_df[\"Sales\"] > 0)\n",
    "sns.barplot(x='StateHoliday', y='Sales', data=train_df[mask], ax=axis2).set_title('Sales during Stateholidays')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "interpreter": {
   "hash": "2b997b5b8794c030e25a28be498e8226ee8897df85ede9190db777bdc9cc75be"
  },
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
